# Introduction #

Sometimes it is required to use a value in one column that was generated by another column. The most common example is when inserting rows that are referencing identity columns (that we also insert during the generation).

Other examples:
When you have a date, StartDate, and want to use that value as a base in another column, EndDate.

Default values in the db. Sometimes you want to use the default values generated by the database in another column.

# Value from other column generator #
The "Value from other column" generator works by getting the columnIdentity of the referenced column. It also have a property called IsTakingValueFromOtherColumn that the DataProducer will use to know.

If the IsTakingValueFromOtherColumn is true, then the DataProducer will take the **value** from the generator and use that as the **key** while creating the DataRowEntity.

Example
```
First Table: Customer(id identity, name)
Second Table: Order(id, CustomerId uses value from Customer(id))
```

The output from the dataproducer will be two DataRowEntities with the following keys:
```
 [a] 
 [a] 
```

When the consumer have consumed the Customer entry, it will see that there is a column that is generating values and it will then collect that value from the database (after insertion) and put it into the ValueStore.
When the second DataRowEntity is consumed, it will fetch the value from the ValueStore and use it in the insert.

# When the value is generated by the database #
When the value is generated by the database, the Consumer is responsible for populating the ValueStore with the generated value for the given key.

# When the value is generated by the application #
When the value is generated by the application, just using the same value twice.
Get the key from the referenced column, then apply a **postAction** on its value.

# What To produce in the generators in different scenarios #
| Scenario | key | value |
|:---------|:----|:------|
| Identity | a | null |
| Identity insert | a | 1 |
| Value from other column | n/a | a |
| valueFromOther(StartDate) + 5 minutes | a | postAction(+ 5min) |